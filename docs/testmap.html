<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0FdPMBcYeAaoQiW18vPbgiiRpae_ENbo&sensor=true">
    </script>
    <script type="text/javascript">
      function initialize() {

		  // Create an array of styles.
		  var styles = [
			  {
			    "featureType": "road",
			    "stylers": [
			      { "visibility": "off" }
			    ]
			  },{
			    "featureType": "poi",
			    "stylers": [
			      { "visibility": "off" }
			    ]
			  },{
			    "featureType": "water",
			    "elementType": "labels",
			    "stylers": [
			      { "visibility": "off" }
			    ]
			  },{
			    "featureType": "water",
			    "elementType": "geometry.fill",
			    "stylers": [
			      { "color": "#1e1e1e" }
			    ]
			  },{
			    "featureType": "transit",
			    "stylers": [
			      { "visibility": "off" }
			    ]
			  },{
			    "featureType": "administrative",
			    "elementType": "labels",
			    "stylers": [
			      { "color": "#808080" },
			      { "visibility": "off" }
			    ]
			  },{
			  },{
			    "featureType": "landscape",
			    "stylers": [
			      { "color": "#ececec" }
			    ]
			  },{
			    "featureType": "landscape.man_made",
			    "stylers": [
			      { "visibility": "off" }
			    ]
			  },{
			    "featureType": "landscape.natural.terrain",
			    "stylers": [
			      { "visibility": "off" }
			    ]
			  },{
			    "featureType": "landscape.natural.terrain",
			    "stylers": [
			      { "visibility": "off" }
			    ]
			  }
			];
		
		  // Create a new StyledMapType object, passing it the array of styles,
		  // as well as the name to be displayed on the map type control.
		  var styledMap = new google.maps.StyledMapType(styles,
		    {name: "Styled Map"});
		
		  // Create a map object, and include the MapTypeId to add
		  // to the map type control.
		  var mapOptions = {
		    zoom: 10,
		    streetViewControl: false,
		    panControl: false,
		    mapTypeControl: false,
		    center: new google.maps.LatLng(49.672325, 0.782541),
		    mapTypeControlOptions: {
		      mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'map_style']
		    }
		  };
		  var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
		  
		  
		
		  //Associate the styled map with the MapTypeId and set it to display.
		  map.mapTypes.set('map_style', styledMap);
		  map.setMapTypeId('map_style');
		  
		  /*var ctaLayer = new google.maps.KmlLayer({
		    url: 'http://www.mathieulanglois.com/76-Seine-Maritime.kml'
		  });
		  ctaLayer.setMap(map);*/
		  
		  
		  var img_win = new google.maps.MarkerImage("../img/gmap_marker_city_win.png", null, null, null, new google.maps.Size(40,40));
		  var img_free = new google.maps.MarkerImage("../img/gmap_marker_city_free.png", null, null, null, new google.maps.Size(40,40));
		  var img_mine = new google.maps.MarkerImage("../img/gmap_marker_city_mine.png", null, null, null, new google.maps.Size(40,40));
		
		// Cr√©ation des markers
		var marker1 = new google.maps.Marker({
      		position: new google.maps.LatLng(49.8522948,1.2919694),
      		map: map,
      		cursor: "pointer",
      		title:"Notre Dame d'Aliermont",
      		icon: img_free
  		});
  		
  		// Evenement au clic
  		google.maps.event.addListener(marker1, 'click', function() {
  			alert("pout");
  			/*$("#overlay").attr("src","<?php the_permalink(); ?>");
  			$("#loading").fadeIn();
  			$("#overlay").load(function (){
  				$("#loading").fadeOut();
  				$("#overlay").fadeIn();
  				$("#close").fadeIn();
  			});*/
		});
		  
		  
		  
		}
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <div id="map-canvas"/>
  </body>
</html>